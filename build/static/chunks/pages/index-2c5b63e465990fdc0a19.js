_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"/0+H":function(e,t,n){"use strict";t.__esModule=!0,t.isInAmpMode=a,t.useAmp=function(){return a(s.default.useContext(c.AmpStateContext))};var r,s=(r=n("q1tI"))&&r.__esModule?r:{default:r},c=n("lwAK");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,r=e.hybrid,s=void 0!==r&&r,c=e.hasQuery,a=void 0!==c&&c;return n||s&&a}},"7W2i":function(e,t,n){var r=n("SksO");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"8Kt/":function(e,t,n){"use strict";n("lSNA");t.__esModule=!0,t.defaultHead=d,t.default=void 0;var r,s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var c=r?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(n,s,c):n[s]=e[s]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),c=(r=n("Xuae"))&&r.__esModule?r:{default:r},a=n("lwAK"),o=n("FYa8"),i=n("/0+H");function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[s.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(s.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function u(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var x=["name","httpEquiv","charSet","itemProp"];function f(e,t){return e.reduce((function(e,t){var n=s.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(u,[]).reverse().concat(d(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,r={};return function(s){var c=!0;if(s.key&&"number"!==typeof s.key&&s.key.indexOf("$")>0){var a=s.key.slice(s.key.indexOf("$")+1);e.has(a)?c=!1:e.add(a)}switch(s.type){case"title":case"base":t.has(s.type)?c=!1:t.add(s.type);break;case"meta":for(var o=0,i=x.length;o<i;o++){var l=x[o];if(s.props.hasOwnProperty(l))if("charSet"===l)n.has(l)?c=!1:n.add(l);else{var d=s.props[l],u=r[l]||new Set;u.has(d)?c=!1:(u.add(d),r[l]=u)}}}return c}}()).reverse().map((function(e,t){var n=e.key||t;return s.default.cloneElement(e,{key:n})}))}function j(e){var t=e.children,n=(0,s.useContext)(a.AmpStateContext),r=(0,s.useContext)(o.HeadManagerContext);return s.default.createElement(c.default,{reduceComponentsToState:f,headManager:r,inAmpMode:(0,i.isInAmpMode)(n)},t)}j.rewind=function(){};var b=j;t.default=b},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},EbDI:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},FYa8:function(e,t,n){"use strict";var r;t.__esModule=!0,t.HeadManagerContext=void 0;var s=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.HeadManagerContext=s},Ijbi:function(e,t,n){var r=n("WkPL");e.exports=function(e){if(Array.isArray(e))return r(e)}},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},RIqP:function(e,t,n){var r=n("Ijbi"),s=n("EbDI"),c=n("ZhPi"),a=n("Bnag");e.exports=function(e){return r(e)||s(e)||c(e)||a()}},RNiq:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var r=n("nKUr"),s=n("q1tI"),c=n("8Kt/"),a=n.n(c),o=(n("uXJ4"),n("9Koi")),i=(n("26TT"),n("rePB")),l=n("ODXe");function d(e){var t=e.game,n=Object(o.a)(),s=(n.i18n,n.t,[]),c=[];if(t.registeredPlayers)for(var a=0,i=Object.entries(t.registeredPlayers);a<i.length;a++){var d=Object(l.a)(i[a],2),u=d[0],x=d[1];if(x.hasOwnProperty("team")){var f={id:u,name:x.name};0===x.team?s.push(f):c.push(f)}}function j(t){return Object(r.jsx)("div",{children:t.map((function(t,n){return Object(r.jsxs)("div",{class:"border-2 flex flex-row space-x-5 items-center m-2",children:[Object(r.jsx)("div",{class:"flex-grow",children:Object(r.jsx)("p",{class:"uppercase",children:t.name})}),Object(r.jsx)("button",{class:"border-4 bg-red-300 hover:bg-red-500 p-2 rounded-lg",onClick:function(){e.ws.current.send(JSON.stringify({action:"quit",host:!1,id:t.id,room:e.room}))},children:Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 717 718",children:[Object(r.jsx)("path",{d:"M651.22 154c98 139 85 334-40 459s-318 137-458 40c-16-12-34-26-49-40c-15-15-28-32-39-49c-98-139-86-334 39-459s319-137 459-40c16 12 33 26 48 40c15 15 29 32 40 49zm-522 345l370-370c-104-63-242-50-331 39c-90 90-102 228-39 331zm458-280l-370 369c104 63 242 50 331-39c90-90 102-227 39-330z",fill:"#ffffff"}),Object(r.jsx)("rect",{x:"0",y:"0",width:"717",height:"718",fill:"rgba(0, 0, 0, 0)"})]})})]})}))})}return Object(r.jsx)("div",{class:"flex-grow ",children:Object(r.jsxs)("div",{class:"h-48 overflow-y-scroll border-4 rounded p-2 text-center flex flex-row flex-grow",children:[Object(r.jsxs)("div",{class:"flex-grow",children:[Object(r.jsx)("p",{children:t.teams[0].name}),Object(r.jsx)("hr",{}),j(s)]}),Object(r.jsx)("div",{class:"bg-gray-300 border h-full"}),Object(r.jsxs)("div",{class:"flex-grow",children:[Object(r.jsx)("p",{children:t.teams[1].name}),Object(r.jsx)("hr",{}),j(c)]})]})})}var u=n("s4dY");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;return function(){for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];clearTimeout(t),t=setTimeout((function(){e.apply(this,s)}),n)}}function b(){var e=Object(o.a)(),t=(e.i18n,e.t);return Object(r.jsxs)("div",{class:"flex flex-row items-center space-x-5  p-5",children:[Object(r.jsx)("h3",{class:"text-2xl ",children:t("Title Music")}),Object(r.jsx)("audio",{controls:!0,children:Object(r.jsx)("source",{src:"title.mp3",type:"audio/mpeg"})})]})}function m(e){var t=Object(o.a)(),n=(t.i18n,t.t);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{disabled:e.pointsGivin.state,class:"border-4 text-2xl ".concat(e.pointsGivin.color," rounded p-10 ").concat(e.pointsGivin.textColor),onClick:function(){e.game.teams[e.team].points=e.game.point_tracker[e.game.round]+e.game.teams[e.team].points,e.setPointsGivin({state:!0,color:"bg-black-200",textColor:"text-gray-300"}),e.setGame((function(e){return f({},e)})),e.send({action:"data",data:e.game})},children:[n("team")," ",n("number",{count:e.team+1}),":"," ",e.game.teams[e.team].name," ",n("Gets Points")]}),Object(r.jsxs)("button",{class:"border-4 bg-red-200 text-2xl rounded p-10",onClick:function(){e.game.teams[e.team].mistakes<3&&e.game.teams[e.team].mistakes++,e.setGame((function(e){return f({},e)})),e.send({action:"data",data:e.game}),e.send({action:"mistake",data:e.game.teams[e.team].mistake})},children:[n("team")," ",n("number",{count:e.team+1}),":"," ",e.game.teams[e.team].name," ",n("mistake")]})]})}function p(e){var t=Object(o.a)(),n=(t.i18n,t.t),s=e.game.is_final_second?e.game.final_round_2:e.game.final_round;return null===s||void 0===s?void 0:s.map((function(t){return Object(r.jsxs)("div",{class:"flex-col flex space-y-5 p-12 border-2",children:[Object(r.jsx)("p",{class:"text-4xl font-bold ",children:t.question}),Object(r.jsxs)("div",{class:"flex flex-row space-x-5 pb-7",children:[Object(r.jsx)("input",{class:"border-4 rounded text-3xl w-48 p-5 flex-grow",placeholder:n("Answer"),value:t.input,onChange:function(n){t.input=n.target.value,e.setGame((function(e){return f({},e)}))}}),Object(r.jsx)("select",{value:t.selection,class:"border-4 rounded p-2 text-2xl flex-grow",onChange:function(n){t.selection=parseInt(n.target.value),e.setGame((function(e){return f({},e)})),e.send({action:"data",data:e.game})},children:t.answers.map((function(e,n){return Object(r.jsxs)("option",{value:n,children:[t.answers[n][0]," ",t.answers[n][1]]})}))})]}),Object(r.jsxs)("div",{class:"flex flex-row ",children:[Object(r.jsx)("button",{class:"border-4 rounded p-5 text-3xl flex-grow",onClick:function(){t.points=0,e.setGame((function(e){return f({},e)})),e.send({action:"data",data:e.game}),e.send({action:"final_wrong"})},children:n("wrong")}),Object(r.jsx)("button",{class:"border-4 rounded p-5 text-3xl flex-grow",onClick:function(){t.revealed=!0,e.setGame((function(e){return f({},e)})),e.send({action:"data",data:e.game}),e.send({action:"final_reveal"})},children:n("Reveal Answer")}),Object(r.jsx)("button",{class:"border-4 rounded p-5 text-3xl flex-grow",onClick:function(){t.points=t.answers[t.selection][1],e.setGame((function(e){return f({},e)})),e.send({action:"data",data:e.game}),e.send({action:"final_submit"})},children:n("submit")})]})]})}))}function h(e){var t,n=Object(o.a)(),c=n.i18n,a=n.t,l=Object(s.useState)({state:!1,color:"bg-green-200",textColor:"text-black"}),x=l[0],h=l[1],g=Object(s.useState)([]),O=g[0],v=g[1],y=Object(s.useState)(""),w=y[0],_=y[1],k=e.ws,C=e.game,S=0;function P(t){t.room=e.room,t.id=e.id,console.debug(t),k.current.send(JSON.stringify(t))}if(Object(s.useEffect)((function(){return setInterval((function(){1!==k.current.readyState?(_("lost connection to server refreshing in ".concat(10-S)),++S>=10&&(console.debug("admin reload()"),location.reload())):_("")}),1e3),t=setInterval((function(){console.debug("sending pong in admin"),P({action:"pong"})}),5e3),k.current.addEventListener("message",(function(t){var n=t.data,r=JSON.parse(n);"data"===r.action?e.setGame(r.data):"change_lang"===r.action?(console.debug("Language Change",r.data),null!=r.games?v(r.games):v([])):"error"===r.action?(console.error(r.message),_(r.message)):console.debug("did not expect admin: ",r)})),P({action:"change_lang",data:c.language}),function(){return clearInterval(t)}}),[]),null!=C.teams){var G;if(G=C.title?a("title"):C.is_final_round&&!C.is_final_second?"".concat(a("Final Round")," ").concat(a("number",{count:1})):C.is_final_round&&C.is_final_second?"".concat(a("Final Round")," ").concat(a("number",{count:2})):"".concat(a("round")," ").concat(a("number",{count:C.round+1})),null!=C.rounds){var z=C.rounds[C.round];console.debug("This is current round",z)}return Object(r.jsxs)("div",{class:"lg:min-w-0",style:{minWidth:"100vh"},children:[Object(r.jsxs)("div",{class:"min-h-full",children:[Object(r.jsx)("p",{class:"text-center text-8xl p-4 font-semibold uppercase",children:e.room}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{class:"flex flex-row justify-evenly p-5 ",children:[Object(r.jsx)("a",{href:"/game",target:"_blank",children:Object(r.jsx)("button",{class:"text-2xl",children:Object(r.jsx)("div",{class:"w-48 hover:shadow-md rounded bg-green-200 p-2 flex justify-center",children:a("Open Game Window")})})}),Object(r.jsx)("a",{href:"/new",children:Object(r.jsx)("button",{class:"text-2xl",children:Object(r.jsx)("div",{class:"w-48 hover:shadow-md rounded bg-blue-200 p-2 flex justify-center",children:a("Create New Game")})})}),Object(r.jsx)("button",{class:"text-2xl",onClick:function(){e.quitGame(!0)},children:Object(r.jsx)("div",{class:"hover:shadow-md rounded bg-red-200 p-2 w-32 flex justify-center",children:a("Quit")})})]}),Object(r.jsxs)("div",{class:"flex flex-row justify-evenly items-center m-5",children:[Object(r.jsx)(u.a,{onChange:function(e){c.changeLanguage(e.target.value),P({action:"change_lang",data:e.target.value})}}),Object(r.jsxs)("div",{class:"flex flex-col border-2  rounded",children:[Object(r.jsxs)("div",{class:"justify-center flex flex-row  space-x-5 p-2 items-center transform translate-y-3",children:[O.length>0?Object(r.jsxs)("select",{class:"border-2 rounded",onChange:function(e){P({action:"load_game",file:e.target.value,lang:c.language})},children:[Object(r.jsx)("option",{disabled:!0,selected:!0,value:!0}),O.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e.replace(".json","")},t)}))]}):null,Object(r.jsxs)("div",{class:"image-upload w-6",children:[Object(r.jsx)("label",{htmlFor:"gamePicker",children:Object(r.jsx)("svg",{class:"fill-current text-gray-400 hover:text-gray-600 cursor-pointer",viewBox:"0 0 384 512",children:Object(r.jsx)("path",{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"})})}),Object(r.jsx)("input",{class:"hidden",type:"file",accept:".json",id:"gamePicker",onChange:function(e){var t=document.getElementById("gamePicker").files[0];if(console.debug(t),t){var n=new FileReader;n.readAsText(t,"utf-8"),n.onload=function(e){var t=JSON.parse(e.target.result);console.debug(t),P({action:"load_game",data:t})},n.onerror=function(e){console.error("error reading file")}}}})]})]}),Object(r.jsxs)("div",{class:"flex flex-row",children:[Object(r.jsx)("span",{class:"translate-x-3 px-2 text-black text-opacity-50 flex-shrink inline translate-y-3 transform bg-white ",children:a("Load Game")}),Object(r.jsx)("div",{class:"flex-grow"})]})]})]})]}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{class:"pt-5",children:Object(r.jsxs)("div",{class:"grid grid-cols-3 gap-5 px-12 justify-items-start",children:[Object(r.jsxs)("p",{class:"text-2xl",children:[a("Title Text"),":"]}),Object(r.jsx)("input",{class:"border-4 rounded text-4xl w-80 col-span-2",onChange:j((function(t){C.title_text=t.target.value,e.setGame((function(e){return f({},e)})),P({action:"data",data:C})})),placeholder:a("My Family"),defaultValue:C.title_text}),Object(r.jsxs)("p",{class:"text-2xl",children:[a("Team 1"),":"]}),Object(r.jsxs)("div",{class:"w-80 flex-row items-center col-span-2",children:[Object(r.jsx)("input",{class:"border-4 rounded text-4xl w-60",onChange:j((function(t){C.teams[0].name=t.target.value,e.setGame((function(e){return f({},e)})),P({action:"data",data:C})})),placeholder:a("Team Name"),defaultValue:C.teams[0].name}),Object(r.jsx)("input",{type:"number",min:"0",required:!0,class:"border-4 text-4xl rounded text-center w-20",onChange:function(t){var n=parseInt(t.target.value);console.debug(n),isNaN(n)&&(n=0),C.teams[0].points=n,e.setGame((function(e){return f({},e)})),P({action:"data",data:C})},value:C.teams[0].points})]}),Object(r.jsxs)("p",{class:"text-2xl",children:[a("Team 2"),":"]}),Object(r.jsxs)("div",{class:"w-80 flex-row items-center col-span-2",children:[Object(r.jsx)("input",{class:"border-4 rounded text-4xl w-60",onChange:j((function(t){C.teams[1].name=t.target.value,e.setGame((function(e){return f({},e)})),P({action:"data",data:C})})),placeholder:a("Team Name"),defaultValue:C.teams[1].name}),Object(r.jsx)("input",{type:"number",min:"0",required:!0,class:"border-4 rounded text-center text-4xl w-20",onChange:function(t){var n=parseInt(t.target.value);isNaN(n)&&(n=0),C.teams[1].points=n,e.setGame((function(e){return f({},e)})),P({action:"data",data:C})},value:C.teams[1].points})]})]})}),""!==w?Object(r.jsx)("p",{class:"text-2xl text-red-700",children:w}):null,null==C.rounds?Object(r.jsxs)("p",{class:"text-2xl text-center py-20 text-black text-opacity-50",children:["[",a("Please load a game"),"]"]}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{class:"flex-col space-y-5 p-5",children:[Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{class:"flex flex-row justify-evenly items-baseline",children:[Object(r.jsx)(b,{}),Object(r.jsxs)("p",{class:"text-2xl text-center pt-5",children:[" ",a("Current Screen"),": ",G]})]}),Object(r.jsxs)("div",{class:"flex flex-row space-x-10 flex-grow",children:[Object(r.jsx)("button",{class:"border-4 rounded p-10 text-2xl flex-grow",onClick:function(){C.title=!0,C.round=0,C.is_final_round=!1,C.is_final_second=!1,e.setGame((function(e){return f({},e)})),P({action:"data",data:C})},children:a("Title Card")}),C.final_round?Object(r.jsx)("button",{class:"border-4 rounded p-10 text-2xl flex-grow",onClick:function(){C.title=!1,C.is_final_round=!0,C.is_final_second=!1,e.setGame((function(e){return f({},e)})),P({action:"data",data:C}),P({action:"set_timer",data:C.final_round_timers[0]})},children:a("Final Round")}):null,Object(r.jsx)("select",{class:"border-4 rounded p-10 text-2xl flex-grow",value:C.round,onChange:function(t){C.round=parseInt(t.target.value),C.is_final_round=!1,C.is_final_second=!1,C.teams[0].mistakes=0,C.teams[1].mistakes=0,C.title=!1,e.setGame((function(e){return f({},e)})),h({state:!1,color:"bg-green-200",textColor:"text-black"}),P({action:"data",data:C})},children:C.rounds.map((function(e,t){return Object(r.jsxs)("option",{value:t,children:[a("round")," ",a("number",{count:t+1})]})}))})]}),Object(r.jsxs)("div",{class:"flex flex-row space-x-10",children:[Object(r.jsx)("button",{class:"border-4 rounded p-10 flex-grow text-2xl",onClick:function(){C.title=!1,C.is_final_round=!1,C.is_final_second=!1,C.round=0,e.setGame((function(e){return f({},e)})),h({state:!1,color:"bg-green-200",textColor:"text-black"}),P({action:"data",data:C})},children:a("Start Round 1")}),Object(r.jsx)("button",{class:"border-4 rounded p-10 flex-grow text-2xl",onClick:function(){C.title=!1,C.is_final_round=!1,C.is_final_second=!1,C.teams[0].mistakes=0,C.teams[1].mistakes=0,C.round<C.rounds.length-1&&(C.round=C.round+1),e.setGame((function(e){return f({},e)})),h({state:!1,color:"bg-green-200",textColor:"text-black"}),console.debug(C.round),P({action:"data",data:C})},children:a("Next Round")})]}),Object(r.jsxs)("div",{class:"grid grid-rows-2 grid-flow-col gap-5",children:[Object(r.jsx)(m,{game:C,setGame:e.setGame,team:0,send:P,setPointsGivin:h,pointsGivin:x}),Object(r.jsx)(m,{game:C,setGame:e.setGame,send:P,team:1,setPointsGivin:h,pointsGivin:x})]})]}),Object(r.jsx)("hr",{}),C.is_final_round?Object(r.jsx)("div",{children:Object(r.jsxs)("div",{class:"p-5",children:[Object(r.jsxs)("h2",{class:"text-6xl text-center",children:[a("Final Round")," ",a("number",{count:C.is_final_second?"2":"1"})]}),Object(r.jsx)("div",{class:"flex py-5 items-center flex-row justify-evenly",children:C.is_final_second?Object(r.jsxs)("div",{class:"flex py-5 items-center flex-row justify-evenly space-x-5",children:[Object(r.jsxs)("button",{class:"border-4 rounded p-5 text-3xl",onClick:function(){C.is_final_round=!0,C.hide_first_round=!1,C.is_final_second=!1,e.setGame((function(e){return f({},e)})),P({action:"data",data:C}),P({action:"set_timer",data:C.final_round_timers[0]})},children:[a("Back To")," ",a("Final Round")," ",a("number",{count:1})]}),C.is_final_second?Object(r.jsx)("div",{children:C.hide_first_round?Object(r.jsx)("button",{class:"border-4 rounded p-5 text-3xl",onClick:function(){C.hide_first_round=!1,e.setGame((function(e){return f({},e)})),P({action:"data",data:C})},children:a("Reveal First Round Answers")}):Object(r.jsx)("button",{class:"border-4 rounded p-5 text-3xl",onClick:function(){C.hide_first_round=!0,e.setGame((function(e){return f({},e)})),P({action:"data",data:C})},children:a("Hide First Round Answers")})}):null]}):Object(r.jsxs)("button",{class:"border-4 rounded p-5 text-3xl",onClick:function(){console.debug(C),C.is_final_second=!0,C.hide_first_round=!0,e.setGame((function(e){return f({},e)})),P({action:"data",data:C}),P({action:"set_timer",data:C.final_round_timers[1]})},children:[a("start")," ",a("Final Round")," ",a("number",{count:2})]})}),Object(r.jsxs)("div",{class:"flex py-5 items-center flex-row justify-evenly",children:[Object(r.jsx)("button",{class:"border-4 rounded p-5 text-3xl",onClick:function(){C.is_final_second?P({action:"start_timer",data:C.final_round_timers[1]}):P({action:"start_timer",data:C.final_round_timers[0]})},children:a("Start Timer")}),Object(r.jsx)("button",{class:"border-4 rounded p-5 text-3xl",onClick:function(){P({action:"stop_timer"})},children:a("Stop Timer")})]}),Object(r.jsx)(p,Object(i.a)({game:C,setGame:e.setGame,send:P},"game",C))]})}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{class:"flex flex-row justify-between space-x-5 px-10 items-center pt-5",children:[Object(r.jsx)("p",{class:"text-3xl font-bold",children:z.question}),Object(r.jsxs)("div",{class:"flex flex-row border-4 p-2 items-center space-x-5",children:[Object(r.jsxs)("h3",{class:"text-xl",children:[a("Points"),": "]}),Object(r.jsx)("h3",{class:"text-2xl flex-grow",children:a("number",{count:C.point_tracker[C.round]})}),Object(r.jsxs)("h3",{class:"text-xl",children:["x",a("number",{count:z.multiply})]})]})]}),Object(r.jsx)("div",{class:" text-white rounded border-4 grid grid-rows-4 grid-flow-col  p-3 mx-10 mt-5 gap-3 ",children:z.answers.map((function(t){return Object(r.jsx)("div",{class:"".concat(t.trig?"bg-gray-600":"bg-blue-600"," font-extrabold uppercase rounded border-2 text-2xl rounded "),children:Object(r.jsxs)("button",{class:"flex flex-row p-5 justify-center min-h-full items-center min-w-full",onClick:function(){t.trig=!t.trig,e.setGame((function(e){return f({},e)})),t.trig?(C.point_tracker[C.round]=C.point_tracker[C.round]+t.pnt*z.multiply,e.setGame((function(e){return f({},e)})),P({action:"reveal"})):(C.point_tracker[C.round]=C.point_tracker[C.round]-t.pnt*z.multiply,e.setGame((function(e){return f({},e)}))),P({action:"data",data:C})},children:[Object(r.jsx)("div",{class:"flex-grow",children:t.ans}),Object(r.jsx)("div",{class:"p-2",children:a("number",{count:t.pnt})})]})})}))}),Object(r.jsxs)("div",{class:"grid grid-cols-2 gap-4 p-5",children:[Object(r.jsx)("h1",{class:"text-2xl capitalize",children:a("Buzzer Order")}),Object(r.jsx)("h1",{class:"text-2xl capitalize",children:a("players")}),Object(r.jsx)("div",{class:"border-4 h-48 overflow-y-scroll rounded p-5 text-center",children:Object(r.jsxs)("div",{class:"flex flex-col  h-full space-y-2 justify-between",children:[Object(r.jsx)("div",{class:"",children:C.buzzed.length>0?Object(r.jsxs)("div",{class:"flex flex-row items-center space-x-5",children:[Object(r.jsx)("button",{class:"border-4 bg-red-200 hover:bg-red-400 rounded p-2",onClick:function(){P({action:"clearbuzzers"})},children:a("Clear Buzzers")}),Object(r.jsx)("p",{class:"text-black text-opacity-50",children:a("Changing rounds also clears buzzers")})]}):Object(r.jsxs)("div",{class:"flex flex-row items-center space-x-5",children:[Object(r.jsx)("button",{class:"text-2xl border-4 bg-gray-300 rounded p-2",children:a("Clear Buzzers")}),Object(r.jsx)("p",{class:"text-black text-opacity-50",children:a("Changing rounds also clears buzzers")})]})}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{class:"flex-grow",children:C.buzzed.map((function(e,t){var n,s,c;return Object(r.jsxs)("div",{class:"flex flex-row space-x-5 justify-center",children:[Object(r.jsxs)("p",{children:[a("number",{count:t+1}),"."," ",null===(n=C.registeredPlayers[e.id])||void 0===n?void 0:n.name]}),Object(r.jsxs)("p",{children:[a("team"),":"," ",null===(s=C.teams[null===(c=C.registeredPlayers[e.id])||void 0===c?void 0:c.team])||void 0===s?void 0:s.name]}),Object(r.jsxs)("p",{children:[a("time"),":"," ",((e.time-C.tick)/1e3%60).toFixed(2)," ",a("seconds")]})]})}))})]})}),Object(r.jsx)(d,{game:C,ws:k,room:e.room})]})]})]})]})}return Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a("loading")})})}var g=n("omVU"),O=n("b7xY"),v=n.n(O),y=n("po1S"),w=n("At9n"),_=n("LDWk"),k=n("PeLG"),C=null;function S(e){var t=Object(o.a)(),n=t.i18n,c=t.t,a=Object(s.useState)(!1),i=a[0],l=a[1],d=Object(s.useState)(null),u=d[0],x=d[1],f=Object(s.useState)(),j=f[0],b=f[1],m=Object(s.useState)(0),p=m[0],h=m[1],O=0,S=e.game,P=e.ws,G=function(t){t.room=e.room,t.id=e.id,P.current.send(JSON.stringify(t))};return Object(s.useEffect)((function(){setInterval((function(){1!==P.current.readyState?(b("lost connection to server refreshing in ".concat(10-O)),++O>=10&&(console.debug("buzzer reload()"),location.reload())):b("")}),1e3),null!==e.id&&null!==e.team&&x(e.id),P.current.addEventListener("message",(function(t){var r=t.data,s=JSON.parse(r);if("ping"===s.action)console.debug(e.id),G({action:"pong",id:e.id});else if("quit"===s.action)e.setGame(null),e.setTeam(null);else if("set_timer"===s.action)h(s.data);else if("stop_timer"===s.action)clearInterval(C);else if("start_timer"===s.action){var a=s.data;C=setInterval((function(){a>0?h(a-=1):(clearInterval(C),h(s.data))}),1e3)}else"data"===s.action?("Change Me"===s.data.title_text&&(s.data.title_text=c("Change Me")),"Team 1"===s.data.teams[0].name&&(s.data.teams[0].name="".concat(c("team")," ").concat(c("number",{count:1}))),"Team 2"===s.data.teams[1].name&&(s.data.teams[1].name="".concat(c("team")," ").concat(c("number",{count:2}))),e.setGame(s.data)):"buzzed"===s.action?l(!0):"clearbuzzers"===s.action?l(!1):"change_lang"===s.action?(console.debug("Language Change",s.data),n.changeLanguage(s.data)):"registered"===s.action?(console.debug(e.id),G({action:"pong",id:e.id}),x(e.id)):console.debug("didnt expect action in buzzer: ",s)}))}),[]),null!=S.teams?(console.debug(S),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{class:"shadow-md rounded-lg p-2 bg-gray-200 text-1xl font-bold uppercase absolute top-1 right-1",onClick:function(){G({action:"quit"})},children:c("quit")}),null!==u?Object(r.jsx)(r.Fragment,{children:S.title||S.is_final_round?Object(r.jsx)(r.Fragment,{children:S.is_final_round?Object(r.jsx)("div",{children:Object(r.jsx)(k.a,{game:S,timer:p})}):Object(r.jsxs)("div",{children:[Object(r.jsx)(g.a,{insert:S.title_text}),Object(r.jsx)("p",{class:"text-3xl text-center py-12",children:c("Waiting for host to start")})]})}):Object(r.jsxs)("div",{class:"pt-8 flex flex-col space-y-5",children:[Object(r.jsx)(y.a,{game:S}),Object(r.jsxs)("div",{class:"",style:{width:"100%",textAlign:"center"},children:[i?Object(r.jsx)("img",{style:{width:"50%",display:"inline-block"},src:"buzzed.svg"}):Object(r.jsx)("img",{class:"cursor-pointer",style:{width:"50%",display:"inline-block"},onClick:function(){G({action:"buzz",id:e.id})},src:"buzz.svg"}),Object(r.jsx)("p",{class:"text-gray-400 p-2 italic",children:"buzzer is reset between rounds"}),""!==j?Object(r.jsx)("p",{class:"text-2xl text-red-700",children:j}):null]}),Object(r.jsxs)("div",{class:"flex flex-row justify-between min-w-full space-x-3",children:[Object(r.jsx)(_.a,{game:S,team:0}),Object(r.jsx)(_.a,{game:S,team:1})]}),Object(r.jsx)("div",{class:"",children:Object(r.jsx)(w.a,{round:S.rounds[S.round]})}),Object(r.jsx)("div",{class:"border-4 rounded space-y-2 text-center flex-grow w-full",children:Object(r.jsx)("div",{class:"flex flex-col",children:S.buzzed.map((function(e,t){return Object(r.jsxs)("div",{class:"flex flex-row space-x-2 md:text-2xl lg:text-2xl text-1xl",children:[Object(r.jsx)("div",{class:"flex-grow",children:Object(r.jsxs)("p",{class:"truncate w-20 text-left",children:[c("number",{count:t+1}),"."," ",S.registeredPlayers[e.id].name]})}),Object(r.jsx)("div",{class:"flex-grow",children:Object(r.jsx)("p",{class:"truncate w-20 text-left",children:S.teams[S.registeredPlayers[e.id].team].name})}),Object(r.jsx)("div",{class:"flex-grow",children:Object(r.jsxs)("p",{class:"truncate w-20 text-left",children:[c("number",{count:((e.time-S.tick)/1e3%60).toFixed(2)})," ",c("second")]})})]},t)}))})})]})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(g.a,{insert:S.title_text}),Object(r.jsx)("div",{class:"flex flex-row justify-center",children:Object(r.jsxs)("h1",{class:"text-3xl",children:[c("team"),":"," ",null!=e.team?S.teams[e.team].name:"pick your team"]})}),Object(r.jsxs)("div",{class:"grid grid-cols-2 gap-4",children:[Object(r.jsx)("button",{class:"hover:shadow-md rounded-md bg-blue-200 p-5",onClick:function(){v.a.set("session","".concat(e.room,":").concat(e.id,":0")),e.setTeam(0)},children:S.teams[0].name}),Object(r.jsx)("button",{class:"hover:shadow-md rounded-md bg-blue-200 p-5",onClick:function(){v.a.set("session","".concat(e.room,":").concat(e.id,":1")),e.setTeam(1)},children:S.teams[1].name})]}),Object(r.jsx)("div",{class:"flex flex-row justify-center",children:Object(r.jsx)("button",{class:"py-8 px-16 hover:shadow-md rounded-md bg-green-200 uppercase",onClick:function(){if(null!=e.team)G({action:"registerbuzz",team:e.team});else{var t=[];null==e.team&&t.push(c("pick your team")),b(t.join(" ".concat(c("and")," ")))}},children:c("play")})}),null!=j&&""!==j?Object(r.jsxs)("p",{children:["\ud83d\udc7e ",j]}):null]})]})):Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:c("loading")})})}function P(e){var t=Object(o.a)().t;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{class:"self-end",children:Object(r.jsx)(u.a,{})}),Object(r.jsx)(g.a,{insert:""}),Object(r.jsxs)("div",{class:"flex flex-col",children:[Object(r.jsx)("div",{class:"flex flex-row justify-between text-1xl px-2",children:Object(r.jsx)("p",{class:"uppercase",children:t("room code")})}),Object(r.jsx)("input",{class:"border-4 border-gray-600 p-2 rounded-2xl text-2xl uppercase",id:"roomcode",onChange:function(t){e.setRoomCode(t.target.value)},maxLength:4,value:e.roomCode,placeholder:t("4 letter room code")})]}),Object(r.jsxs)("div",{class:"flex flex-col",children:[Object(r.jsxs)("div",{class:"flex flex-row justify-between text-1xl px-2",children:[Object(r.jsx)("p",{class:"uppercase",children:t("name")}),Object(r.jsx)("p",{children:12-e.playerName.length})]}),Object(r.jsx)("input",{class:"border-4 border-gray-600 p-2 rounded-2xl text-2xl uppercase",id:"playername",maxLength:12,value:e.playerName,onChange:function(t){e.setPlayerName(t.target.value)},placeholder:t("enter your name")})]}),Object(r.jsxs)("div",{class:"flex flex-row items-center space-x-5",children:[Object(r.jsx)("button",{class:"shadow-md flex-grow rounded-md bg-green-300 p-4 w-2/3 text-2xl uppercase",onClick:function(){e.joinRoom()},children:Object(r.jsx)("div",{class:"flex-grow",children:t("play")})}),Object(r.jsx)("button",{class:"shadow-md rounded-md bg-gray-300 p-4 text-2xl uppercase",onClick:function(){e.hostRoom()},children:t("host")})]}),""!==e.error?Object(r.jsx)("p",{class:"text-2xl text-red-700",children:e.error}):null]})}function G(){var e=Object(o.a)().t,t=Object(s.useState)(""),n=t[0],c=t[1],i=Object(s.useState)(""),l=i[0],d=i[1],u=Object(s.useState)(""),x=u[0],f=u[1],j=Object(s.useState)(null),b=j[0],m=j[1],p=Object(s.useState)(!1),g=p[0],O=p[1],y=Object(s.useState)(null),w=y[0],_=y[1],k=Object(s.useState)(null),C=k[0],G=k[1],z=Object(s.useState)(null),M=z[0],I=z[1],R=Object(s.useRef)(null);function N(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];R.current.send(JSON.stringify({action:"quit",host:e,id:M,room:b}))}function A(e){var t;console.debug("send",R),1===(null===(t=R.current)||void 0===t?void 0:t.readyState)&&R.current?(console.debug("send",e),R.current.send(e)):(console.log("connecting to server... new connection"),fetch("/api/ws").then((function(){R.current=new WebSocket("wss://".concat(window.location.host,"/api/ws")),R.current.onopen=function(){console.debug("game connected to server",R.current),R.current.onmessage=function(e){var t=e.data,n=JSON.parse(t);"host_room"===n.action?(console.debug("registering room with host",n.room),I(n.id),O(!0),m(n.room),_(n.game),v.a.set("session","".concat(n.room,":").concat(n.id))):"join_room"===n.action?(console.debug("Joining room : ",n),I(n.id),m(n.room),_(n.game),null!=n.team&&G(n.team)):"quit"===n.action?(console.debug("player quit"),I(null),m(null),v.a.set("session",""),_({}),O(!1)):"get_back_in"===n.action?(console.debug("Getting back into room",n),"host"===n.player&&O(!0),Number.isInteger(n.team)&&G(n.team),I(n.id),m(n.room),_(n.game)):"error"===n.action?(console.error(n.message),f(n.message)):console.debug("did not expect in index.js: ",n)},R.current.onerror=function(e){console.error(e)},R.current.send(e)}})))}function E(){A(JSON.stringify({action:"host_room"}))}function T(){console.log("ws.current ",R),f("");var t=document.getElementById("roomcode").value;if(4===t.length){var n=document.getElementById("playername").value;n.length>0?(console.debug("roomcode: ".concat(t,", playername ").concat(n)),A(JSON.stringify({action:"join_room",room:t,name:n}))):f(e("input your name"))}else f(e("room code is not correct length, should be 4 characters"))}return Object(s.useEffect)((function(){var e=v.a.get("session");console.debug("user session",e),""!=e&&null!=e&&A(JSON.stringify({action:"get_back_in",session:e}))}),[]),console.debug("game: ".concat(w)),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(a.a,{children:[Object(r.jsx)("title",{children:e("Family Feud")}),Object(r.jsx)("link",{rel:"icon",href:"x.png"}),Object(r.jsx)("meta",{name:"author",content:"Joshua Cold"}),Object(r.jsx)("meta",{name:"description",content:"Free to play open source family feud game. Host your own custom created family feud games with built in online buzzers, timers and admin controls. Visit https://github.com/joshzcold/Cold-Family-Feud to check out the source code and contribute."}),Object(r.jsx)("link",{rel:"preload",href:"/fonts/Roboto/Roboto-Regular.ttf",as:"font",crossOrigin:""})]}),Object(r.jsx)("main",{children:null!==b&&g&&null!=w?Object(r.jsx)("div",{class:"lg:flex lg:flex-row lg:justify-center w-full",children:Object(r.jsx)("div",{class:"lg:w-1/2 sm:w-full md:w-full",children:Object(r.jsx)(h,{ws:R,game:w,id:M,setGame:_,room:b,quitGame:N})})}):null===b||g||null==w?Object(r.jsx)("div",{class:"flex w-full justify-center",children:Object(r.jsx)("div",{class:"lg:w-1/2 sm:w-10/12 sm:px-8 md:w-3/4 w-10/12 flex flex-col space-y-6 pt-5",children:Object(r.jsx)(P,{setRoomCode:d,roomCode:l,setPlayerName:c,playerName:n,joinRoom:T,hostRoom:E,error:x})})}):Object(r.jsx)("div",{class:"flex w-full justify-center",children:Object(r.jsx)("div",{class:"lg:w-1/2 sm:w-10/12 md:w-3/4 w-11/12 flex flex-col space-y-3 pt-5",children:Object(r.jsx)(S,{ws:R,game:w,id:M,setGame:_,room:b,quitGame:N,setTeam:G,team:C})})})})]})}},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},WkPL:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},Xuae:function(e,t,n){"use strict";var r=n("RIqP"),s=n("lwsE"),c=n("W8MJ"),a=(n("PJYZ"),n("7W2i")),o=n("a1gu"),i=n("Nsbk");function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var s=i(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return o(this,n)}}t.__esModule=!0,t.default=void 0;var d=n("q1tI"),u=function(e){a(n,e);var t=l(n);function n(e){var c;return s(this,n),(c=t.call(this,e))._hasHeadManager=void 0,c.emitChange=function(){c._hasHeadManager&&c.props.headManager.updateHead(c.props.reduceComponentsToState(r(c.props.headManager.mountedInstances),c.props))},c._hasHeadManager=c.props.headManager&&c.props.headManager.mountedInstances,c}return c(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(d.Component);t.default=u},ZhPi:function(e,t,n){var r=n("WkPL");e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},a1gu:function(e,t,n){var r=n("cDf5"),s=n("PJYZ");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?s(e):t}},cDf5:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lwAK:function(e,t,n){"use strict";var r;t.__esModule=!0,t.AmpStateContext=void 0;var s=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.AmpStateContext=s},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},s4dY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("nKUr"),s=(n("q1tI"),n("9Koi"));function c(e){var t=Object(s.a)(),n=t.i18n,c=t.t;return Object(r.jsxs)("div",{class:"flex flex-row space-x-5",children:[Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",width:"2em",height:"2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:Object(r.jsx)("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10s10-4.486 10-10S17.514 2 12 2zM4 12c0-.899.156-1.762.431-2.569L6 11l2 2v2l2 2l1 1v1.931C7.061 19.436 4 16.072 4 12zm14.33 4.873C17.677 16.347 16.687 16 16 16v-1a2 2 0 0 0-2-2h-4v-3a2 2 0 0 0 2-2V7h1a2 2 0 0 0 2-2v-.411C17.928 5.778 20 8.65 20 12a7.947 7.947 0 0 1-1.67 4.873z",fill:"gray"})}),Object(r.jsxs)("select",{value:n.language,onChange:e.onChange?e.onChange:function(e){n.changeLanguage(e.target.value)},children:[Object(r.jsxs)("option",{value:"en",children:["English (",c("english"),")"]}),Object(r.jsxs)("option",{value:"es",children:["Espa\xf1ol (",c("spanish"),")"]}),Object(r.jsxs)("option",{value:"id",children:["Indonesian (",c("indonesian"),")"]})]})]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,1,2,3,4]]]);